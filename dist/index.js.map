{"version":3,"file":"index.js","mappings":";AAAA;AACA;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["../webpack/runtime/compat",".././lib/main.js"],"sourcesContent":["\nif (typeof __webpack_require__ !== 'undefined') __webpack_require__.ab = new URL('.', import.meta.url).pathname.slice(import.meta.url.match(/^file:\\/\\/\\/\\w:/) ? 1 : 0, -1) + \"/\";","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = require(\"@actions/core\");\nconst github_1 = require(\"@actions/github\");\nconst changelog_notification_1 = require(\"./changelog-notification\");\nfunction run() {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            (0, core_1.debug)(`Sending notification...`);\n            const slackWebhookUrl = (0, core_1.getInput)('slack_webhook_url');\n            const context = github_1.context;\n            const { eventName, repo } = context;\n            if (eventName !== 'release') {\n                (0, core_1.setFailed)('Action should only be run on release publish events');\n            }\n            const payload = context.payload;\n            yield (0, changelog_notification_1.notifyChangelog)({\n                slackWebhookUrl,\n                release: payload.release,\n                repo\n            });\n            (0, core_1.debug)('Sent notification');\n        }\n        catch (error) {\n            if (error instanceof Error)\n                (0, core_1.setFailed)(error.message);\n        }\n    });\n}\nrun();\n"],"names":[],"sourceRoot":""}